<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <div ng-repeat="error in errors" style="padding: 5px; margin: 5px; border-radius: 5px;" class="col-lg-12  bg-danger">
    <span>{{error}}</span>
    <button type="button" ng-click="errors.splice(errors.indexOf(error),1)" class="close" style="float: right;" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  </div>
  <div ng-repeat="message in messages" style="padding: 5px; margin: 5px; border-radius: 5px;" class="col-lg-12 bg-info">
    <span>{{messages}}</span>
    <button type="button" class="close" ng-click="messages.splice(messages.indexOf(message,1)" style="float: right;" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  </div>
  <p>The delete user and country index api routes are restricted to users with the 'admin' role.</p>
  <button class="btn" ng-hide="addCountry" ng-click="addCountry = !addCountry">Add a country</button>
  <div id="countryForm" ng-show="addCountry">
    <form class="form-horizontal" role="form">
      <div class="form-group">
        <label class="control-label col-sm-2" for="country_name">Country name:</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="country_name" ng-model="new_country.country_name" placeholder="Enter country name">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="country_code">Country code:</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="country_code" ng-model="new_country.country_code" placeholder="Enter country code">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="currency_code">Currency_code: </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="currency_code" ng-model="new_country.currency_code" placeholder="Enter currency code">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="population">Population: </label>
        <div class="col-sm-10">
          <input type="number" class="form-control" id="population" ng-model="new_country.population" placeholder="Enter number of inhabitants">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="capital">Capital: </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="capital" ng-model="new_country.capital" placeholder="Enter country capital">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="continent">Continent: </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="continent" ng-model="new_country.continent" placeholder="Enter country's continent">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="area">Area: </label>
        <div class="col-sm-10">
          <input type="number" class="form-control" id="area" ng-model="new_country.area" placeholder="Enter country's area">
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-default" ng-click="create(new_country)">Submit</button>
        </div>
      </div>
    </form>  </div>
  <div>
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th>Country code</th>
          <th>Country name</th>
          <th>Capital</th>
          <th>Currency</th>
          <th>Continent</th>
          <th>Area</th>
          <th>Population</th>
          <th>languages</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="country in countries">
          <td>{{country.country_code}}</td>
          <td>{{country.country_name}}</td>
          <td>{{country.capital}}</td>
          <td>{{country.currency_code}}</td>
          <td>{{country.continent}}</td>
          <td>{{country.area}}</td>
          <td>{{country.population}}</td>
          <td>{{country.languages}}</td>
          <td><a ng-click="edit(country)" class="trash"><span class="glyphicon glyphicon-edit pull-right"></span></a></td>
          <td><a ng-click="delete(country)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a></td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
